

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="de" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="de" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>18. Der Komparator, Positive Feedback und Schmitt Trigger &mdash; Red Pitaya 1.0 Dokumentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="index" title="Stichwortverzeichnis" href="genindex.html" />
    <link rel="search" title="Suche" href="search.html" />
    <link rel="next" title="19. Diodes und Jupyter Notebook Beispiel" href="Activity_19_Diodes.html" />
    <link rel="prev" title="17. Strommessung mit einem Differenzverstärker" href="Activity_17_CurrentSensingUsingDifferenceAmplifier.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Red Pitaya
          

          
            
            <img src="_static/RedPitayaLogo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Activity_01_Phase.html">1. Was ist Phase?</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_02_Kirchhoff.html">2. Kirchhoffs Spannungs- und Stromgesetze</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_03_Voltage.html">3. Spannungsteilung</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_04_Proportionality.html">4. Proportionalität und Überlagerung</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_05_Thevenin.html">5. Thévenin Ersatzschaltung und maximale Leistungsübertragung</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_06_ResponseRC.html">6. Transient Response der RC-Beschaltung</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_07_ResponseRL.html">7. Transient Response einer RL-Schaltung</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_08_ResonanceRCL.html">8. Resonanz in RLC-Schaltungen</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_09_LowPassandHighPassFilters.html">9. Tiefpass- und Hochpassfilter</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_10_BandPassFilters.html">10. Bandpassfilter</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_11_ImpedanceMeasurementFrequencyEffects.html">11. Impedanzmessung - Frequenzeffekte</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_12_MeasuringaLoudspeakerImpedanceProfile.html">12. Messung eines Lautsprecherimpedanzprofils</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_13_BasicOPAmpConfigurations.html">13. Grundlegende OP-Verstärkerkonfigurationen</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_14_OPAMPOpenLoopGain.html">14. OPAMP Open Loop Verstärkung</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_15_OpAmpGainBandwidthProduct.html">15. OPAMP Verstärkungsbandbreite Produkt <span class="math notranslate nohighlight">\(GBW\)</span></a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_16_DifferenceAmplifier.html">16. Differenzverstärker</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_17_CurrentSensingUsingDifferenceAmplifier.html">17. Strommessung mit einem Differenzverstärker</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">18. Der Komparator, Positive Feedback und Schmitt Trigger</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#zielsetzung">18.1. Zielsetzung</a></li>
<li class="toctree-l2"><a class="reference internal" href="#anmerkungen">18.2. Anmerkungen</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hintergrund">18.3. Hintergrund</a></li>
<li class="toctree-l2"><a class="reference internal" href="#der-spannungsvergleicher">18.4. Der Spannungsvergleicher</a></li>
<li class="toctree-l2"><a class="reference internal" href="#materialien">18.5. Materialien</a></li>
<li class="toctree-l2"><a class="reference internal" href="#richtungen">18.6. Richtungen</a></li>
<li class="toctree-l2"><a class="reference internal" href="#verfahren">18.7. Verfahren</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mit-positivem-feedback-hinzufugen-hysterese-der-schmitt-trigger">18.8. Mit positivem Feedback hinzufügen Hysterese: der Schmitt-Trigger</a></li>
<li class="toctree-l2"><a class="reference internal" href="#berechnen-der-schwelle">18.9. Berechnen der Schwelle</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">18.9.1. Verfahren</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Activity_19_Diodes.html">19. Diodes und Jupyter Notebook Beispiel</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_20_DiodeRectifiers.html">20. Diodengleichrichter</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_21_PrecisionRectifiers.html">21. Präzisionsgleichrichter, Absolutwertschaltungen</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_22_TheBJTasDiode.html">22. Der BJT-Transistor ist als Diode geschaltet</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_23_TheMOSAsDiode.html">23. Der MOS-Transistor ist als Diode geschaltet</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_24_TheBJTasSwitch.html">24. BJT-Transistor als Schalter</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_25_MOSasSwitch.html">25. MOSFET-Transistor als Schalter</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_26_BJTCommonEmitterAmplifier.html">26. BJT gemeinsamer Emitterverstärker</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_27_MOSCommonSourceAmplifier.html">27. MOS-Transistor-Source-Verstärker</a></li>
<li class="toctree-l1"><a class="reference internal" href="Activity_28_BoostConverter.html">28. DC-DC-Aufwärtswandler</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Red Pitaya</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>18. Der Komparator, Positive Feedback und Schmitt Trigger</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Activity_18_TheComparatorSchmittTrigger.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="der-komparator-positive-feedback-und-schmitt-trigger">
<h1>18. Der Komparator, Positive Feedback und Schmitt Trigger<a class="headerlink" href="#der-komparator-positive-feedback-und-schmitt-trigger" title="Link zu dieser Überschrift">¶</a></h1>
<div class="section" id="zielsetzung">
<h2>18.1. Zielsetzung<a class="headerlink" href="#zielsetzung" title="Link zu dieser Überschrift">¶</a></h2>
<p>Ziel dieser Übung ist es, den Spannungskomparator, die Verwendung
einer positiven Rückkopplung und den Betrieb der
Schmitt-Trigger-Konfiguration zu untersuchen. Die Verwendung
herkömmlicher Operationsverstärker als Ersatz für
Spannungskomparatoren wird in grundlegenden
Operationsverstärkerschaltungen beschrieben.</p>
</div>
<div class="section" id="anmerkungen">
<h2>18.2. Anmerkungen<a class="headerlink" href="#anmerkungen" title="Link zu dieser Überschrift">¶</a></h2>
<p>In diesen Tutorials verwenden wir die Terminologie aus dem
Benutzerhandbuch, wenn Sie sich auf die Verbindungen zur Red Pitaya
STEMlab-Board-Hardware beziehen.</p>
<p>Die für die ** 5V ** - Spannungsversorgung verwendeten Steckerstifte
der Verlängerung sind in der Dokumentation hier zu sehen.</p>
<p><a class="reference external" href="http://redpitaya.readthedocs.io/en/latest/doc/appsFeatures/apps-featured/oscSigGen/osc.html">Oscilloscope</a> &amp; Signal_generator_Anwendung wird zum Erzeugen und
Beobachten von Signalen auf der Schaltung verwendet.</p>
</div>
<div class="section" id="hintergrund">
<h2>18.3. Hintergrund<a class="headerlink" href="#hintergrund" title="Link zu dieser Überschrift">¶</a></h2>
</div>
<div class="section" id="der-spannungsvergleicher">
<h2>18.4. Der Spannungsvergleicher<a class="headerlink" href="#der-spannungsvergleicher" title="Link zu dieser Überschrift">¶</a></h2>
<p>Ein Differenzspannungsvergleicher wie der <a class="reference external" href="http://www.analog.com/media/en/technical-documentation/data-sheets/AD8561.pdf">AD8561</a> aus dem analogen
Teilekit hat eine Pinbelegung, die in vielerlei Hinsicht der eines
herkömmlichen Operationsverstärkers ähnelt, jedoch mit vielen
wichtigen Unterschieden (Abbildung 1). Es gibt die üblichen <span class="math notranslate nohighlight">\(V_
+\)</span> und <span class="math notranslate nohighlight">\(V_-\)</span> Stromversorgungspins, aber ein Komparator hat auch
einen Masse (GND) Pin. Das Differential <span class="math notranslate nohighlight">\(+ IN\)</span> und: math:` -IN`
Pins sind im Wesentlichen die gleichen wie bei einem herkömmlichen
Operationsverstärker. Es wird auch einen Ausgangspin wie in einem
Operationsverstärker geben, aber es gibt oft einen zweiten
„invertierenden“ (oder komplementären) Ausgang. Auch wenn die Spannung
am Ausgang eines Operationsverstärkers im Allgemeinen nahe bei den
<span class="math notranslate nohighlight">\(+\)</span> und <span class="math notranslate nohighlight">\(-\)</span> Versorgungsschienen schwingen kann, schwingt
der Ausgang eines Komparators nur zwischen Masse (gnd) und dem
<span class="math notranslate nohighlight">\(0\)</span> Versorgung. Dies macht die Ausgabe mehr wie ein
digitales Signal und kompatibel mit Standard-Logikgattern wie
TTL oder CMOS. Der Spannungskomparator kann als ein
Ein-Bit-Analog-Digital-Wandler (ADC) betrachtet werden. Der
AD8561 enthält auch einen LATCH-Eingang, der den Ausgang
zwischenspeichert oder einfriert und verhindert, dass er sich
ändert, selbst wenn sich die Eingänge ändern.</p>
<div class="figure" id="id2">
<img alt="_images/Activity_18_Fig_01.png" src="_images/Activity_18_Fig_01.png" />
<p class="caption"><span class="caption-number">Abb. 18.1 </span><span class="caption-text">Abbildung 1: <a class="reference external" href="http://www.analog.com/media/en/technical-documentation/data-sheets/AD8561.pdf">AD8561</a> Datenblatt und Pinbelegung</span></p>
</div>
</div>
<div class="section" id="materialien">
<h2>18.5. Materialien<a class="headerlink" href="#materialien" title="Link zu dieser Überschrift">¶</a></h2>
<ul class="simple">
<li>Rotes Pitaya STEMlab</li>
<li>OPAMP: 1x <a class="reference external" href="http://www.analog.com/media/en/technical-documentation/data-sheets/AD8561.pdf">AD8561</a> Spannungskomparator</li>
<li>Spannungsregler: 1x LM317</li>
<li>Widerstand: 2x 4,7 <span class="math notranslate nohighlight">\(k \ Omega\)</span></li>
<li>Widerstand: 1x 20 <span class="math notranslate nohighlight">\(k \ Omega\)</span></li>
<li>Widerstand: 1x 47 <span class="math notranslate nohighlight">\(k \ Omega\)</span></li>
<li>Widerstand: 1x 100 <span class="math notranslate nohighlight">\(k \ Omega\)</span></li>
<li>Kondensator: 1x 0.1 <span class="math notranslate nohighlight">\(\ mu F\)</span></li>
</ul>
</div>
<div class="section" id="richtungen">
<h2>18.6. Richtungen<a class="headerlink" href="#richtungen" title="Link zu dieser Überschrift">¶</a></h2>
<p>Konstruieren Sie die Komparator-Testschaltung wie in Abbildung 2 auf
Ihrem Lötplatinen-Board dargestellt. Die zwei Pull-up-Widerstände mit
4,7 kΩ sind optional und werden verwendet, um den positiven
Spitzenausgangswellenwert näher an die + 5-V-Versorgung zu bringen.</p>
<div class="figure" id="id3">
<img alt="_images/Activity_18_Fig_02.png" src="_images/Activity_18_Fig_02.png" />
<p class="caption"><span class="caption-number">Abb. 18.2 </span><span class="caption-text">Abbildung 2: <a class="reference external" href="http://www.analog.com/media/en/technical-documentation/data-sheets/AD8561.pdf">AD8561</a> Komparatorschaltung</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p>Spannungsvergleicher sind extrem empfindlich gegenüber Störungen
und Störungen auf der Stromversorgungsschiene. Laute
Stromversorgungsschiene führt zu Störungen im Ausgangssignal. Diese
Störimpulse treten bei Schaltschwellenspannungen auf. Mit anderen
Worten, der Komparator wird einige Schwierigkeiten haben, zu
entscheiden, V + oder V- einzuschalten, wenn er zwei
Eingangssignale vergleicht, die von dem Stromversorgungsrauschen
betroffen sind. Aus diesem Grund verwenden wir hier einen
Spannungsregler, um unsere Stromversorgungsschiene zu stabilisieren
und eine verrauschte Ausgabe von dem Komparator zu verhindern.</p>
<p>Sie können direkt die 5-V-Stromversorgungsschiene verwenden und die
Ergebnisse beobachten und sie mit den mit dem Spannungsregler
erzielten Ergebnissen vergleichen.</p>
<p class="last">note: Es ist nicht notwendig, die Spannung von 5V auf 2,5V
herunterzufahren, aber wir haben uns für Einfachheit entschieden.</p>
</div>
<div class="figure" id="id4">
<img alt="_images/Activity_18_Fig_03.png" src="_images/Activity_18_Fig_03.png" />
<p class="caption"><span class="caption-number">Abb. 18.3 </span><span class="caption-text">Abbildung 3: <a class="reference external" href="http://www.analog.com/media/en/technical-documentation/data-sheets/AD8561.pdf">AD8561</a> Komparatorschaltung auf dem Steckbrett</span></p>
</div>
<p><a class="reference external" href="http://red-pitaya-active-learning.readthedocs.io/en/latest/Activity13_BasicOPAmpConfigurations.html#first-step-connecting-dc-power">LM317</a> Spannungsregler ist im vorherigen Abschnitt beschrieben.</p>
</div>
<div class="section" id="verfahren">
<h2>18.7. Verfahren<a class="headerlink" href="#verfahren" title="Link zu dieser Überschrift">¶</a></h2>
<ol class="arabic simple">
<li>Stellen Sie die Dämpfung der Oszilloskopsonden ein; IN1 bis x1 und
IN2 bis x10</li>
<li>Starten Sie die Anwendung Oszilloskop &amp; Signalgenerator.</li>
<li>Zum Anlegen der Eingangsspannung <span class="math notranslate nohighlight">\(V_ {in}\)</span> im Menü OUT1
settings den Amplitudenwert auf 0,5 V und den DC-Offset auf 0,5 V
setzen. Wählen Sie im Wellenform-Menü DREIECK, Deaktivieren Sie den
SHOW-Button und wählen Sie enable.</li>
<li>Stellen Sie im OUT2-Einstellungsmenü den Amplitudenwert auf 0,5 V
ein, wählen Sie im Wellenformmenü die Option DC und aktivieren Sie
die Option.</li>
<li>Stellen Sie im Menü für die IN2-Einstellungen die Sondendämpfung
auf x10 ein</li>
<li>Vergewissern Sie sich auf der linken unteren Seite des Bildschirms,
dass IN1 V / div auf 500 mV / div eingestellt ist (Sie können V /
div einstellen, indem Sie den gewünschten Kanal auswählen und die
vertikalen +/- Regler verwenden)</li>
<li>Vergewissern Sie sich auf der linken unteren Seite des Bildschirms,
dass IN2 V / div auf 1V / div eingestellt ist (Sie können V / div
einstellen, indem Sie den gewünschten Kanal auswählen und vertikale
+/- Regler verwenden)</li>
<li>Stellen Sie sicher, dass OUT2 V / div am linken unteren
Bildschirmrand auf 500mV / div eingestellt ist (Sie können V / div
einstellen, indem Sie den gewünschten Kanal auswählen und die
vertikalen +/- Regler verwenden)</li>
<li>Setze t / div Wert auf 200us / div (Du kannst t / div mit
horizontalen +/- Kontrollen einstellen)</li>
</ol>
<div class="figure" id="id5">
<img alt="_images/Activity_18_Fig_04.png" src="_images/Activity_18_Fig_04.png" />
<p class="caption"><span class="caption-number">Abb. 18.4 </span><span class="caption-text">Abbildung 4: <a class="reference external" href="http://www.analog.com/media/en/technical-documentation/data-sheets/AD8561.pdf">AD8561</a> Komparatorschaltung Messungen</span></p>
</div>
<p>Sie sollten eine Rechteckwelle sehen, die hoch ist (nahe +2,5 V), wenn
der Eingangssignalpegel größer als 0,5 V (OUT2 DC-Wert) und niedrig
(nahe 0 V) ​​ist, wenn das Eingangssignal weniger als 0,5 V beträgt
Pegel der Eingangsdreieckwelle, bei der sich der Ausgang von niedrig
zu hoch und von hoch zu niedrig ändert.</p>
<p>Verbinden Sie jetzt den Kanal IN1 (Einstellung der Sondendämpfung x10
und des IN1-Einstellungsmenüs stellen Sie die Sondendämpfung auf x10
ein) mit dem invertierenden Ausgang (Pin 8). Sie sollten wieder eine
Rechteckwelle mit entgegengesetzter Phase zu Pin 7 (IN2) sehen. Ändern
Sie auch den DC-Pegel von OUT2 (stellen Sie die Amplitude auf 0,7 V
ein) - dies ändert den Schaltpegel des Spannungskomparators, was zu
unterschiedlichen Zeitdauern der HIGH- und LOW-Zustände des
Komparatorausgangs führt. Sie sollten wieder zwei Rechteckwellen mit
entgegengesetzten Phasen, aber jetzt mit entgegengesetzten HIGH- und
LOW-Zeitdauern sehen.</p>
<ol class="arabic simple">
<li>Stellen Sie die Dämpfung der Oszilloskopsonden ein; IN1 bis x10 und
IN2 bis x10</li>
<li>Stellen Sie im OUT2-Einstellungsmenü den Amplitudenwert auf 0,7 V
ein, wählen Sie im Wellenformmenü die Option DC, und wählen Sie
enable.</li>
<li>Stellen Sie im Einstellungsmenü für IN2 und IN2 die Sondendämpfung
auf x10 und den Offsetpegel -1700mV ein</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">Aus der obigen Beschreibung können Sie vielleicht sehen, wie man
ein PWM-Signal (Pulsweitenmodulation) unter Verwendung eines
Dreiecksignals mit konstanter Frequenz und eines veränderbaren DC
<span class="math notranslate nohighlight">\(V_ {ref}\)</span> -Werts erzeugt.</p>
</div>
<div class="figure" id="id6">
<img alt="_images/Activity_18_Fig_05.png" src="_images/Activity_18_Fig_05.png" />
<p class="caption"><span class="caption-number">Abb. 18.5 </span><span class="caption-text">Abbildung 5: <a class="reference external" href="http://www.analog.com/media/en/technical-documentation/data-sheets/AD8561.pdf">AD8561</a> beide Ausgangsmessungen bei verschiedenen <span class="math notranslate nohighlight">\(V_ {ref} = 0.7V\)</span></span></p>
</div>
<p>Untersuchen Sie die fallende Flanke des Rechtecks ​​des Ausgangs (IN2),
indem Sie die Einstellungen für Horizontale Position und Zeit pro
Teilung so anpassen, dass die fallende Kante auf der Zeitachse
zentriert ist und die Zeit pro Div klein genug ist, um die
Übergangszeit der Kante zu sehen (5 US-Dollar / Div). Sie sollten
sehen, dass der Ausgang nicht vom hohen Ausgangspegel bis zum
niedrigen Ausgangspegel auf einmal geht, sondern halbwegs stoppt und
einige Zeit auf einem mittleren Pegel verbleibt, bevor der Rest des
Weges bis zum niedrigen Ausgangspegel fortgesetzt wird. Sie sollten
diese Verzögerung auch beim Übergang von niedrig zu hoch (IN1) sehen.</p>
<p>Diese Verzögerung wird durch Rauschen verursacht, da das
Eingangssignal langsam den Eingangsschwellenwert (in diesem Fall 0,7
Volt) durchläuft und Probleme verursachen kann. Aus diesem Grund ist
es gut, eine rauscharme Stromversorgung und rauscharme Eingangssignale
am Spannungsvergleicher zu haben.</p>
<p>Versuchen Sie die Schaltgeräuschmessung bei einer geräuschvolleren
Stromversorgung zu wiederholen (5V Pin direkt von STEMlab Board)</p>
<div class="figure" id="id7">
<img alt="_images/Activity_18_Fig_06.png" src="_images/Activity_18_Fig_06.png" />
<p class="caption"><span class="caption-number">Abb. 18.6 </span><span class="caption-text">Abbildung 6: Schaltgeräuschmessungen.</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p>Normalerweise besteht unsere Intuition darin, eine hohe
Wahrscheinlichkeit von Rauschproblemen mit Hochfrequenzsignalen
zu korrelieren. Im Falle eines Spannungskomparators ist dies
nicht immer der Fall.</p>
<p>Wenn wir die OUT1-Frequenz ( <span class="math notranslate nohighlight">\(V_ {in}\)</span>) auf 100 kHz
erhöhen, ist das Schaltrauschen viel geringer. Weg ist das? Sie
denken vielleicht so: Spannungsvergleicher hat sehr empfindliche
Eingänge und vergleicht ständig Werte von <span class="math notranslate nohighlight">\(V_ {in}\)</span> und
<span class="math notranslate nohighlight">\(V_ {ref}\)</span>. Nun stellen wir <span class="math notranslate nohighlight">\(V_ {in}\)</span> als
geräuschloses Signal und <span class="math notranslate nohighlight">\(V_ {ref} = DC + (-) A_{noise}\)</span>.
Wenn die Dreieckwelle <span class="math notranslate nohighlight">\(V_ {in}\)</span> Signal sich
langsam nähert <span class="math notranslate nohighlight">\(V_ {ref}\)</span> beginnt der
Spannungsvergleicher zu schalten und wenn die
<span class="math notranslate nohighlight">\(V_{ref}\)</span> Amplitude um den DC-Wert schwingt um
<span class="math notranslate nohighlight">\(A_{noise}\)</span> der Komparator</p>
<p class="last">Die Ausgabe ändert die Zustände entsprechend dem
<span class="math notranslate nohighlight">\(V_ {in} - (V_ {ref} = DC + (-) A_ {Rauschen})\)</span>
Verhältnis. Also, so lange
<span class="math notranslate nohighlight">\(V_ {in}\)</span> amplitude <strong>bleibt im Bereich</strong> von
<span class="math notranslate nohighlight">\(V_{ref} = DC + (-) A_ {noise}\)</span> Wert wird der
Komparatorausgang effektiv eingeschaltet  <span class="math notranslate nohighlight">\(A_{noise}\)</span>
und nicht auf den Eingangssignalen. Einmal <span class="math notranslate nohighlight">\(V_ {in}\)</span>
geht unter <span class="math notranslate nohighlight">\(V_ {ref} = DC - A_{noise}\)</span> oder höher
<span class="math notranslate nohighlight">\(V_ {ref} = DC + A_{noise}\)</span> wird der Komparator ausgegeben
Schalter hoch  oder niedrig, aber jetzt auf Eingangssignalwerte
nicht auf Rauschwerte. Sie können sehen, dass **
niederfrequente Dreiecksschwingung ** <span class="math notranslate nohighlight">\(V_ {in}
'Amplitude ** mehr Zeit verbringen wird ** in der
Nähe von: math:\)</span> <a href="#id13"><span class="problematic" id="id14">V_</span></a> {ref} = DC + (-) <a href="#id15"><span class="problematic" id="id16">A_</span></a> {noise} `
wodurch der Spannungsvergleicher eine verrauschte
Ausgabe erzeugt, während die ** hohe
Frequenzdreieckwelle ** <span class="math notranslate nohighlight">\(V_ {in}\)</span> die Amplitude
<strong>schnell vergeht</strong>
<span class="math notranslate nohighlight">\(V_ {ref} = DC + (-) A_{rauschunterdrückender Spannungskomparator, um irgendeine Rauschumschaltung zu erzeugen}\)</span>.</p>
</div>
<div class="figure" id="id8">
<img alt="_images/Activity_18_Fig_07.png" src="_images/Activity_18_Fig_07.png" />
<p class="caption"><span class="caption-number">Abb. 18.7 </span><span class="caption-text">Abbildung 7: Schaltvorgang bei hoher Eingangssignalfrequenz (100 kHz)</span></p>
</div>
</div>
<div class="section" id="mit-positivem-feedback-hinzufugen-hysterese-der-schmitt-trigger">
<h2>18.8. Mit positivem Feedback hinzufügen Hysterese: der Schmitt-Trigger<a class="headerlink" href="#mit-positivem-feedback-hinzufugen-hysterese-der-schmitt-trigger" title="Link zu dieser Überschrift">¶</a></h2>
<p>** Neben der rauscharmen Stromversorgung ist es eine übliche Lösung
für das gerade beschriebene Problem, der Komparatorschaltung eine
Rauschimmunität hinzuzufügen, indem eine Hysterese in die
Übergangsschwellwertspannung ** <span class="math notranslate nohighlight">\(V_ {th}\)</span> eingebaut wird, wie in
8 gezeigt .</p>
<p>Mit „Hysterese“ meinen wir, dass die Schwellenspannung eine Funktion
des aktuellen Betriebszustands des Systems ist, der für diese
Schaltung durch ihre Ausgangsspannung definiert ist: positive oder
negative Sättigung. Weil <span class="math notranslate nohighlight">\(V_ {th}\)</span>, die Spannung an Pin 2, durch
den aus Widerständen R1 und R2 gebildeten Spannungsteiler bestimmt
wird, ändert sich diese in Reaktion auf eine Änderung der
Ausgangsspannung: sobald der Ausgang als Reaktion auf High gegangen
ist zu einem Eingang, der die Schwellenspannung unterschritten hat,
wird die Schwellenspannung auf einen höheren Wert geändert <span class="math notranslate nohighlight">\(V_
{th +}\)</span> ( <span class="math notranslate nohighlight">\(V_ {ref}\)</span> + ein Bruchteil der ausgegebenen
Hochspannung); Umgekehrt ändert eine durchsteigende Eingangsspannung
<span class="math notranslate nohighlight">\(V_ {th +}\)</span> den Ausgang in seinen niedrigen Zustand und bewirkt,
dass die Schwellenspannung auf einen niedrigeren Wert gesetzt
wird <span class="math notranslate nohighlight">\(V_ {th-}\)</span> ( <span class="math notranslate nohighlight">\(V_ {ref}\)</span> - ein Bruchteil der
niedrigen Ausgangsspannung.</p>
<div class="figure" id="id9">
<img alt="_images/Activity_18_Fig_08.png" src="_images/Activity_18_Fig_08.png" />
<p class="caption"><span class="caption-number">Abb. 18.8 </span><span class="caption-text">Abbildung 8: Schmitt-Trigger</span></p>
</div>
<p>Dieser Unterschied zwischen <span class="math notranslate nohighlight">\(V_ {th +}\)</span> und <span class="math notranslate nohighlight">\(V_ {th-}\)</span>
bedeutet, dass, sobald ein Übergang durch eine Änderung von <span class="math notranslate nohighlight">\(V_
{in}\)</span> ausgelöst wird, Rauschunterschreitungen kleiner als diese
Differenz sind auf dem Eingang wird nicht verursachen <span class="math notranslate nohighlight">\(V_ {in}\)</span>,
um die Hysteresespalte zu überqueren <span class="math notranslate nohighlight">\(V_ {hist} = V_ {th +} - V_
{th-}\)</span> und eine unerwünschte Umkehrung des Ausgangszustands
verursachen. Wenn die Hysteresespalte groß genug gemacht wird, kann
das System vollständig für das Rauschen des Eingangssignals
undurchlässig gemacht werden, wodurch die störenden Ausgangspegel
eliminiert werden, die von der Basiskomparatorschaltung (Fig. 1)
erlitten werden.</p>
</div>
<div class="section" id="berechnen-der-schwelle">
<h2>18.9. Berechnen der Schwelle<a class="headerlink" href="#berechnen-der-schwelle" title="Link zu dieser Überschrift">¶</a></h2>
<p>Nennen wir die maximalen und minimalen Ausgangsspannungen <span class="math notranslate nohighlight">\(V_
{high}\)</span> und <span class="math notranslate nohighlight">\(V_ {low}\)</span>. Die Schwellwertspannung bei der Ausgabe
von <span class="math notranslate nohighlight">\(V_ {high}\)</span> und bei <span class="math notranslate nohighlight">\(V_ {low}\)</span> ist:</p>
<p>Die resultierende Hysteresespalte für die Schaltung von Fig. 8 ist gegeben durch:</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}V_ {th_ {hoch}} = \ frac {R_1} {R_1 + R_2} (V_ {hoch} + V_ {ref}) + V_ {ref} \ quad (1)\\V_ {th_ {niedrig}} = \ frac {R_1} {R_1 + R_2} (V_ {niedrig} - V_ {ref}) + V_ {ref} \ quad (2)\end{aligned}\end{align} \]</div>
<p>Die resultierende Hysteresespalte für die Schaltung von Fig. 8 ist gegeben durch:</p>
<div class="math notranslate nohighlight">
\[V_ {hist} = V_ {th_ {hoch}} - V_ {th_ {niedrig}} = \ frac {R_1} {R_1 + R_2} (V_ {hoch} - V_ {niedrig}) \ quad (3)\]</div>
<p>Für den AD8561 mit einer +2,5-V-Stromversorgung und Pull-up-Widerstand
<span class="math notranslate nohighlight">\(V_ {hoch} - V_ {niedrig} \ ca. 2,3 V\)</span>. Weil das andere Ende des
Spannungsteilers (unten von R1) verbunden ist mit
<span class="math notranslate nohighlight">\(V_{ref} = 0,5V\)</span>, die Schwellenspannungen <span class="math notranslate nohighlight">\(V_ {th_{high}}\)</span>
und <span class="math notranslate nohighlight">\(V_{th_{low}}\)</span> wird um 0,5 V herum zentriert
(<span class="math notranslate nohighlight">\(V_{ref}\)</span>) unter der Annahme, dass <span class="math notranslate nohighlight">\(V_{high}\)</span>
und <span class="math notranslate nohighlight">\(V_{low}\)</span> mehr oder weniger zentriert sind etwa 0,5V).
Wenn Sie die Unterseite von R1 an eine andere
Spannungsreferenzquelle als an die mittlere Stromversorgung
anschließen, wirkt sich dies nicht auf die Hysteresespalte aus,
sondern zentriert diese Lücke um einen Schwellenwert, der
proportional zur neuen Referenzspannung ist. Tatsächlich könnte
der negative Eingangspin des Komparators mit der festen
Referenzspannung und das Ende von R1 als der Eingang verbunden
sein. Dies kehrt die Richtung der beiden Ausgänge um oder
invertiert sie. Die oben angegebenen Werte können in der
Schmitt-Hystereseplotting in Abbildung 9 dargestellt werden.</p>
<div class="figure" id="id10">
<img alt="_images/Activity_18_Fig_09.png" src="_images/Activity_18_Fig_09.png" />
<p class="caption"><span class="caption-number">Abb. 18.9 </span><span class="caption-text">Abbildung 9: Schmitt Hysterese</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">Die Hysteresespaltgleichung stellt eine potentielle Einschränkung
für das Verhältnis R1 / R2 für einen Schmitt-Trigger dar: wenn R1
&lt;R2 ist, ist die Hysteresespalte größer als die Hälfte des
Peak-zu-Peak-Ausgangsspannungshubbereichs des Komparators und
abhängig von der Referenzspannung der eine oder der andere der
Schmitt-Trigger-Schwellwerte könnte außerhalb des Bereichs der
Ausgangsspannung liegen. Unter der Annahme, dass der
Spannungsbereich des Eingangssignals auch auf den
Ausgangsschwingungsbereich (mit anderen Worten die
Stromversorgungsschienen) begrenzt ist, könnte der Ausgang der
Schaltung blockieren und nicht mehr auf irgendwelche Änderungen der
Eingabe reagieren, wodurch die Schaltung unbrauchbar wird.</p>
</div>
<div class="section" id="id1">
<h3>18.9.1. Verfahren<a class="headerlink" href="#id1" title="Link zu dieser Überschrift">¶</a></h3>
<p>Fügen Sie die beiden positiven Rückkopplungswiderstände zu Ihrer
Schaltung hinzu, wie in Abbildung 8 gezeigt. Verwenden Sie Werte für
R2 = 100 KΩ und R1 gleich 10 KΩ. Unter Verwendung von IN2 wiederum die
Ausgangsquadratwelle beobachten, aber den Pegel der
Eingangsdreieckwelle notieren, wenn der Ausgang den Pegel von niedrig
zu hoch und von hoch zu niedrig ändert. Erkläre deine
Ergebnisse. Versuchen Sie einen Wert für R2 kleiner als
R1. Funktioniert die Schaltung noch?</p>
<ol class="arabic">
<li><p class="first">Stellen Sie die Dämpfung der Oszilloskopsonden ein; IN1 bis x1 und
IN2 bis x10</p>
</li>
<li><p class="first">Starten Sie die Anwendung Oszilloskop &amp; Signalgenerator.</p>
</li>
<li><p class="first">Zum Anlegen der Eingangsspannung <span class="math notranslate nohighlight">\(V_ {in}\)</span> im Menü OUT1
settings den Amplitudenwert auf 0,5 V und den DC-Offset auf 0,5 V
setzen. Wählen Sie im Wellenform-Menü DREIECK,</p>
<p>Deaktivieren Sie den SHOW-Button und wählen Sie enable.</p>
</li>
<li><p class="first">Stellen Sie im OUT2-Einstellungsmenü den Amplitudenwert auf 0,5 V
ein, wählen Sie im Wellenformmenü die Option DC, deaktivieren Sie
die Option SHOW und wählen Sie enable.</p>
</li>
<li><p class="first">Vergewissern Sie sich auf der linken unteren Seite des Bildschirms,
dass IN1 V / div auf 200 mV / div eingestellt ist (Sie können V /
div einstellen, indem Sie den gewünschten Kanal auswählen und die
vertikalen +/- Regler verwenden)</p>
</li>
<li><p class="first">Stellen Sie sicher, dass IN2 V / div am linken unteren
Bildschirmrand auf 500mV / div eingestellt ist (Sie können V / div
einstellen, indem Sie den gewünschten Kanal auswählen und die
vertikalen +/- Regler verwenden)</p>
</li>
<li><p class="first">Stellen Sie im Einstellungsmenü IN1 die Sondendämpfung auf x1 und
den Offsetpegel auf -500 mV ein</p>
</li>
<li><p class="first">Stellen Sie im IN2-Einstellungsmenü die Sondendämpfung auf x10 und
den Offsetpegel auf -1000mV ein</p>
</li>
<li><p class="first">Wählen Sie im Menü TRIGGER settings die Quelle IN2, wählen Sie die
positive Flanke und stellen Sie den Triggerpegel auf 2V ein</p>
</li>
<li><p class="first">Setze t / div Wert auf 200us / div (Du kannst t / div mit horizontalen +/- Kontrollen einstellen)</p>
</li>
</ol>
<div class="figure" id="id11">
<img alt="_images/Activity_18_Fig_10.png" src="_images/Activity_18_Fig_10.png" />
<p class="caption"><span class="caption-number">Abb. 18.10 </span><span class="caption-text">Abbildung 10: Schmitt Hysterese und Ausgangssignal</span></p>
</div>
<p>Vergleichen Sie die Ergebnisse aus Abbildung 10 und Abbildung 4. Sehen
Sie sich die Pegel von IN1 an, wenn IN2 hoch und niedrig wird.</p>
<p>Um zu sehen, ob sich die durch das Eingangsrauschen verursachte
Verzögerung geändert hat, zoomen Sie erneut in die fallenden und
steigenden Flanken der Ausgangsquadratwelle, indem Sie die Einstellung
für die horizontale Position und die Zeit pro Teilung
anpassen. Pausiert der Ausgang auf dem gleichen Zwischenpegel wie der
Übergang oder hat er diese Verzögerung nicht mehr?</p>
<ol class="arabic simple">
<li>Wählen Sie im Menü TRIGGER settings die Quelle IN2, wählen Sie die
positive Flanke, NORMAL und setzen Sie den Triggerpegel auf 2V</li>
<li>Setze t / div Wert auf 5us / div (Du kannst t / div mit
horizontalen +/- Kontrollen einstellen)</li>
</ol>
<div class="figure" id="id12">
<img alt="_images/Activity_18_Fig_11.png" src="_images/Activity_18_Fig_11.png" />
<p class="caption"><span class="caption-number">Abb. 18.11 </span><span class="caption-text">Abbildung 11: Schaltgeräusch mit Hysterese</span></p>
</div>
<p>Wie Sie in Abbildung 11 sehen können, ist bei der Verwendung von
Hysterese kein Schaltgeräusch vorhanden. Vergleichen Sie Abbildung 6
und Abbildung 11.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Activity_19_Diodes.html" class="btn btn-neutral float-right" title="19. Diodes und Jupyter Notebook Beispiel" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Activity_17_CurrentSensingUsingDifferenceAmplifier.html" class="btn btn-neutral" title="17. Strommessung mit einem Differenzverstärker" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Red Pitaya d.d..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            LANGUAGE:'de',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>